var ae=Object.defineProperty,re=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var Y=(o,e,a)=>e in o?ae(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,y=(o,e)=>{for(var a in e||(e={}))de.call(e,a)&&Y(o,a,e[a]);if(H)for(var a of H(e))ue.call(e,a)&&Y(o,a,e[a]);return o},x=(o,e)=>re(o,le(e));var N=(o,e,a)=>new Promise((h,s)=>{var u=p=>{try{_(a.next(p))}catch(w){s(w)}},m=p=>{try{_(a.throw(p))}catch(w){s(w)}},_=p=>p.done?h(p.value):Promise.resolve(p.value).then(u,m);_((a=a.apply(o,e)).next())});import{e8 as J,h as K,t as b,d as P,p as Z,a as O,_ as j,e as $,a1 as ce,l as q,Q as he}from"./entry.qTjs2xIljDpc.js";import{L as k,P as Q}from"./chunk.D17Nd6k2c2Qr.js";import{s as me}from"./chunk.BOJRry8hs-a1.js";import{C as ge,A as pe}from"./chunk.Cj9uYezk-xXk.js";import{k as W,r as G,z as l,u as r,C as t,x as c,T as v,A as n,D as d,H as fe,E as _e,v as E,q as S,R as ye,S as g,F as C,$ as A,y as R,an as U,s as T,Y as f,a2 as I,ah as X,ad as Se,X as B}from"./chunk.CqLQlKMmpZ4j.js";import{R as ee}from"./chunk.BOlT-HPM7xId.js";import{C as ve}from"./chunk.D7u4Z2KhBOI5.js";import{S as be}from"./chunk.oTmnTTNgBbGY.js";import{R as we}from"./chunk.BSuVprhUBcXP.js";import{c as xe,n as ke}from"./chunk.DIHXZJsHMx5r.js";import{M as Oe}from"./chunk.BsIHXyqbQU7a.js";import{F as Ee}from"./chunk.DBs24DhC6ltL.js";import"./chunk.BCDWRyeD4n5M.js";import"./chunk.DmgSjTBnd5R4.js";import"./chunk.DCVgwOXUfgc5.js";const Ce={class:"align-bottom bg-white inline-block overflow-hidden pb-4 pt-5 px-4 rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:p-6 sm:w-full text-left transform transition-all"},Te={class:"bg-blue-100 flex h-12 items-center justify-center mx-auto rounded-full w-12"},Ie={class:"mt-3 sm:mt-5 text-center"},Re={class:"leading-5 mt-6 text-default text-gray-500"},Le={class:"mt-2"},Ve={class:"font-medium leading-6 mt-4 text-gray-900 text-md"},ze={class:"font-medium leading-6 mt-4 text-gray-900 text-md"},Ne={key:0,class:"EmailVerification--error"},Ae={class:"mt-2"},Ue={class:"leading-5 mt-6 text-gray-500 text-sm"},Be=W({__name:"EmailVerification",props:{email:{}},setup(o){const e=o,a=G(""),h=G("");function s(){h.value="verifying",setTimeout(()=>{const u=Z(`verify-email-${a.value}:${e.email}`,16);O.post("/api/teacher-registration/verify-email/verify-code",{email:e.email,code:a.value,pow:u.solution}).then(({data:m})=>{window.location.href=m.link,h.value=""}).catch(m=>{console.log(m),h.value="invalid-code"})},100)}return(u,m)=>(r(),l("div",Ce,[t("div",null,[t("div",Te,[c(K,{svg:v(J),width:"24px",class:"h-6 text-blue-600 w-6"},null,8,["svg"])]),t("div",Ie,[t("p",Re,n(v(b)("Status: Pending verification")),1),t("div",Le,[t("h3",Ve,n(v(b)("An email has been sent to"))+" "+n(o.email)+". ",1),t("h3",ze,n(v(b)("Enter the code in the email below. You can also follow the link in the email to complete the verification.")),1),c(ee,{modelValue:a.value,"onUpdate:modelValue":[m[0]||(m[0]=_=>a.value=_),m[1]||(m[1]=_=>h.value="")],class:"m-auto mt-4 w-64",placeholder:v(b)("Verification code"),hasBorder:"",onKeyup:fe(s,["enter"])},null,8,["modelValue","placeholder"]),h.value==="invalid-code"?(r(),l("label",Ne,n(v(b)("The code entered was not valid, please try again.")),1)):d("",!0),t("div",Ae,[c(P,{label:v(b)("Verify code"),loading:h.value==="verifying",onClick:s},null,8,["label","loading"])]),t("p",Ue,n(v(b)('If you already have an account at Exam.net, you can sign in by clicking "Sign in" in the menu at the top. You can also reset your password there in case you have forgotten it.')),1)])])])]))}}),Me=j(Be,[["__scopeId","data-v-1d5ae6d9"]]),qe={class:"align-bottom bg-white inline-block overflow-hidden pb-4 pt-5 px-4 rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:p-6 sm:w-full text-left transform transition-all"},Pe={class:"sm:flex sm:items-start"},je={class:"mt-3 sm:ml-4 sm:mt-0 sm:text-left text-center"},We={id:"modal-headline",class:"font-medium leading-6 text-gray-900 text-lg"},De={class:"mt-2"},Fe=W({__name:"Warning",props:{message:{}},setup(o){var h;const a=(h=o.message)!=null?h:b("Please use your school or organization email");return(s,u)=>(r(),l("div",qe,[t("div",Pe,[u[0]||(u[0]=t("div",{class:"bg-red-100 flex flex-shrink-0 h-12 items-center justify-center mx-auto rounded-full sm:h-10 sm:mx-0 sm:w-10 w-12"},[t("svg",{class:"h-6 text-red-600 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),t("div",je,[t("h3",We,n(v(a)),1),t("div",De,[_e(s.$slots,"default")])])]),u[1]||(u[1]=t("div",{class:"mt-5 sm:flex sm:flex-row-reverse sm:mt-4"},null,-1))]))}}),He={class:"bg-black bg-opacity-50 fixed flex inset-0 items-start justify-center pt-16 z-50"},Ye={class:"bg-white max-w-xl rounded-lg shadow-xl w-full"},Qe={class:"p-4 pb-0 pt-1 relative"},Ge={class:"flex flex-col mb-6 mt-6 w-full"},Xe={class:"font-medium mb-4 mt-6 text-gray-900 text-xl"},Je={class:"mb-4 text-gray-800 text-md"},Ke={class:"flex gap-4 justify-end pb-5 px-5"},Ze=W({__name:"SSORequiredModal",emits:["close","restart"],setup(o,{emit:e}){const a=e;return(h,s)=>(r(),l("div",He,[t("div",Ye,[c(ce,{show:"",onClose:s[2]||(s[2]=u=>a("close"))},{default:E(()=>[t("div",Qe,[t("div",Ge,[s[3]||(s[3]=t("img",{src:"https://exam.net/cdn/images/registration/sso-required.png",class:"bg-blue-gray-100 h-38 mb-6 rounded-lg w-full"},null,-1)),t("h2",Xe,n(v(b)("To sign in, use your organization's required Single Sign-On.")),1),t("div",Je,n(v(b)("Your organization's setup requires all accounts on Exam.net to be connected to an SSO (Single Sign-On). If you're unsure of which SSO to use, please reach out to an Exam.net administrator at your school.")),1)])]),t("div",Ke,[c($,{type:"button",label:v(b)("Cancel"),class:"bg-none border-none cursor-pointer px-4 py-2 text-base text-gray-600",onClick:s[0]||(s[0]=u=>a("close"))},null,8,["label"]),c(P,{"data-testid":"sso-required-modal-restart-btn",label:v(b)("Ok, restart email verification"),onClick:s[1]||(s[1]=u=>a("restart"))},null,8,["label"])])]),_:1})])]))}}),$e=j(Ze,[["__scopeId","data-v-836620f3"]]),et={components:{EmailVerification:Me,Warning:Fe,Modal:Oe,VueMultiselect:me,SSOButtons:be,RadioQuestion:we,CheckboxQuestion:ge,RoundedInput:ee,IconSVG:K,PrimaryButton:P,SecondaryButton:$,SSORequiredModal:$e},props:{verifiedEmail:{type:String,default:""},verifiedCountry:{type:String,default:""},verifiedRegion:{type:String,default:""},firstName:{type:String,default:""},lastName:{type:String,default:""},sso:{type:Boolean,default:!1},token:{type:String,default:""},forcedInternationalSchool:{type:[Object,Number],default:0},forcedInternationalSchoolId:{type:Number,default:0},error:{type:String,default:""},reconnect:Boolean},data(){return{localeIs:q,greenTick:J,AdditionalTeacherQuestions:pe,emailTaken:!1,studentCountModal:!1,userType:"teacher",multiSelectOpen:!1,multiSelectSwedenOpen:!1,newOrganisation:!1,newOrganisationPreviewed:!1,schoolList:[],schoolListSweden:[],organisationSearch:"",organizationInformation:!1,organisationSwedenSearch:"",showCancelOrganizationSearch:!1,organizationSearchSourceCancel:null,showSSORequiredModal:!1,ssoLoginRequired:!1,emailStatus:"",emailClassifyStatus:"",registrationStatus:"",schoolListStatus:"",suggestSchoolsStatus:"",suggestedSchools:[],verificationEmailSent:!1,emailWarning:!1,hasNoWebsite:!1,currentStep:1,steps:[{number:1,name:this.__("Country")},{number:2,name:this.__("Email")},{number:3,name:this.__("Organization")},{number:4,name:this.__("Teacher")},{number:5,name:this.__("Details")}],regionOptions:[],countryOptions:[],organisation:{type:"",name:"",city:"",studentCount:"",website:""},organizationOptions:[{value:"school",label:this.__("School")},{value:"school_district_or_group",label:this.__("School district or group")},{value:"university",label:this.__("University or higher education")},{value:"business",label:this.__("Business")},{value:"vocational_school",label:this.__("Vocational school")},{value:"private_tutor",label:this.__("Private tutor")},{value:"other",label:this.__("Other")}],teacher:{firstName:this.firstName||"",lastName:this.lastName||"",country:this.verifiedCountry||"",email:this.verifiedEmail,password:"",password_confirmation:"",accepted_agreement:!1,region:this.verifiedRegion,internationalSchool:null},additional:{WHERE_DID_YOU_LEARN_ABOUT_EXAM_NET:{choice:"",text:""},SUBJECTS_TEACHING:{choices:{},text:{}}},countrySelect:"",regionSelect:"",errors:[],validationErrors:{},passwordErrorMessage:"",definePassword:!this.sso,completedAnalyticsSteps:[],performingRegistration:!1}},computed:{shouldShowOrganizationFields(){return!this.reconnect&&this.teacher.country!=="Sweden"},stepCompleted(){if(this.currentStep===1)return!(this.userType!=="teacher"&&!this.reconnect||this.regionOptions.length>0&&this.teacher.region.length<1||this.teacher.country.length<1||this.shouldShowOrganizationFields&&(this.organisation.name.length<1||this.organisation.website.length<1&&!this.hasNoWebsite));if(this.currentStep===4)return!0;if(this.currentStep===3){if(this.ssoLoginRequired)return!1;if(this.teacher.country==="Sweden"&&this.organisationSwedenSearch||this.teacher.internationalSchool>0||this.organisationSearch&&this.organisationSearch.id>0)return!0;if(!this.organizationInformation&&!this.newOrganisationPreviewed||this.organizationInformation&&!this.newOrganisationPreviewed)return!1;if(this.organisation.type!=="")return this.organisation.city.length>0&&this.organisation.name.length>0&&(this.hasNoWebsite||this.organisation.website.length>0)&&String(this.organisation.studentCount).replace(/[,.\s]+/g,"")>0}return!1},country(){return this.teacher.country},selectedInternationalSchool(){return this.teacher.internationalSchool}},watch:{currentStep(){this.currentStep===2&&k.setItem("registration-data-organisation",JSON.stringify(this.organisation))},"teacher.internationalSchool":{immediate:!0,handler(o){if(o>0){const e=this.suggestedSchools.find(a=>a.id===o);this.verifySchoolSSORequirement(e)}else this.ssoLoginRequired=!1}},organisationSwedenSearch:{immediate:!0,handler(o){this.verifySchoolSSORequirement(o)}},organisationSearch:{immediate:!0,handler(o){this.verifySchoolSSORequirement(o)}},selectedInternationalSchool(){this.schoolListStatus="loading",this.selectedInternationalSchool===0&&O.get(`api/teacher-registration/schools?country=${this.teacher.country}&region=${this.teacher.region}`).then(o=>{if(this.teacher.country==="Sweden"){this.schoolListStatus="",this.schoolListSweden=o.data.map(e=>({title:`${e.namn} (${e.ort})`,id:e.id,sso:e.sso})).sort((e,a)=>e.title.localeCompare(a.title));return}this.schoolListStatus="",this.schoolList=o.data.filter(e=>e.name!=="DUMMY-SCHOOL").map(e=>({title:e.city.length?`${e.name} (${e.city})`:e.name,id:e.id,sso:e.sso})).sort((e,a)=>e.title.localeCompare(a.title))})},countrySelect(){if(!this.countrySelect){this.teacher.country="";return}this.teacher.country=this.countrySelect.value,this.regionSelect="",this.teacher.region="",this.loadRegions()},regionSelect(){if(!this.regionSelect){this.teacher.region="";return}this.teacher.region=this.regionSelect.value}},created(){if(this.error==="email_taken"&&(this.emailTaken=!0),he.get("status")==="email-requires-manual-verification"&&(this.emailStatus="non-organisation"),this.loadContries(),this.token||(k.removeItem("registration-data"),k.removeItem("registration-data-organisation")),k.getItem("registration-data-organisation")){const o=Q.json(k.getItem("registration-data-organisation"));o&&typeof o=="object"&&(this.organisation=y(y({},this.organisation),o)),k.removeItem("registration-data-organisation")}if(k.getItem("registration-data")){if(Object.assign(this.teacher,Q.json(k.getItem("registration-data"))),this.teacher.country.length===0)return;this.userType="teacher",this.currentStep=3,this.loadSuggestedSchools(),this.analyticsFunnel("email_verified"),this.searchInternationalOrganization(),k.removeItem("registration-data");return}if(this.verifiedEmail.length>0&&this.forcedInternationalSchool&&this.forcedInternationalSchool.id>0){this.currentStep=4;return}if(!this.reconnect){if(this.verifiedEmail.length>0&&this.verifiedCountry.length>0){this.currentStep=3,this.loadSuggestedSchools(),this.analyticsFunnel("email_verified"),this.searchInternationalOrganization();return}this.forcedInternationalSchoolId>0&&(this.currentStep=2)}},methods:{verifySchoolSSORequirement(o){this.ssoLoginRequired=!1,!this.sso&&o&&o.sso!==!1&&(this.ssoLoginRequired=!0,this.showSSORequiredModal=!0)},handleSignInRestart(){this.showSSORequiredModal=!1,this.currentStep=2},ssoLogin(o){this.teacher.country.length>0&&k.setItem("registration-data",JSON.stringify({country:this.teacher.country,region:this.teacher.region})),this.analyticsFunnel(`SSO_${o}`),setTimeout(()=>{window.location.href=`https://sso.exam.net/${o}?domain=https://${window.location.hostname}&usertype=teacher-registration`},250)},showNewOrganisation(){this.newOrganisation=!0,this.teacher.internationalSchool=0,this.organisationSearch=null,this.newOrganisationPreviewed=!0},reconnectToSchool(){let o={};this.organisationSearch&&this.organisationSearch.id&&(o={internationalSchool:Number(this.organisationSearch.id)}),this.organisation.studentCount=String(this.organisation.studentCount).replace(/[,.\s]+/g,""),O.post("/api/teacher-registration/reconnect-to-school",x(y(y({},this.teacher),o),{organisation:this.organisation,swedishSchool:this.teacher.country==="Sweden"?this.organisationSwedenSearch.id:0})).then(()=>{window.location.href="/admin/exams"}).catch(e=>{console.log(e)})},analyticsSignUp(o,e,a,h){const s=h||this.teacher.email||"",u={event:"sign_up"};if(s&&(u.user_data={sha256_email_address:ke(s)}),o){window.dataLayer.push(x(y({},u),{signUpType:"paid_school"}));return}if(Number(e)===1){window.dataLayer.push(x(y({},u),{signUpType:"trial_new_school"}));return}if(a){Ee(a.access_until,new Date)<0?window.dataLayer.push(x(y({},u),{signUpType:"expired_trial_existing_school"})):window.dataLayer.push(x(y({},u),{signUpType:"trial_existing_school"}));return}window.dataLayer.push(x(y({},u),{signUpType:"other"}))},register(o={}){if(this.registrationStatus==="pending")return;let e={};this.organisationSearch&&this.organisationSearch.id&&(e={internationalSchool:Number(this.organisationSearch.id)}),this.forcedInternationalSchool&&this.forcedInternationalSchool.id>0&&(e={internationalSchool:this.forcedInternationalSchool.id}),this.registrationStatus="pending",this.errors=[],this.organisation.studentCount=String(this.organisation.studentCount).replace(/[,.\s]+/g,"");const a=x(y(x(y({},this.teacher),{token:this.token}),e),{organisation:this.organisation,swedishSchool:this.teacher.country==="Sweden"?this.organisationSwedenSearch.id:0,additional:this.additional});this.definePassword||(delete a.password,delete a.password_confirmation),this.performingRegistration=!0,O.post("/api/teacher-registration/users",a).then(h=>{if(this.registrationStatus="",this.performingRegistration=!1,h.data.status==="user_created"){const{hasBooking:s,teacher_count:u,trialLicense:m,email:_}=h.data;this.analyticsSignUp(s,u,m,_),this.registrationStatus="pending",setTimeout(()=>{window.location.href="/admin/exams"},250)}}).catch(h=>N(this,null,function*(){var m,_,p,w;if(this.performingRegistration=!1,this.registrationStatus="",h.response.status===419){this.registrationStatus="",yield ve.update(),o.retry||this.register(x(y({},o),{retry:!0}));return}this.validationErrors=((m=h.response.data)==null?void 0:m.errors)||{};const s={"email.invalid.teacher":this.__("We were unable to recognize your email as a valid format. Adjust your email or contact us at support@exam.net"),"email.invalid.student":this.__("We were unable to recognize your email as a valid format. Adjust your email or contact us at support@exam.net")};for(const L in(_=h.response.data)==null?void 0:_.errors)s[L]&&(this.errors.push(s[L]),this.registrationStatus="error");const u=(w=(p=h.response.data)==null?void 0:p.errors)==null?void 0:w.password;u&&(u.includes("The password field confirmation does not match.")&&(this.validationErrors.password_confirmation=!0,delete this.validationErrors.password),(u.includes("The password field must be at least 8 characters.")||u.includes("The password field is required."))&&(this.passwordErrorMessage=this.__("Your password must be at least 8 characters"),this.validationErrors.password=!0),u.includes("The password field must not be greater than 72 characters.")&&(this.passwordErrorMessage=this.__("Your password cannot be longer than 72 characters"),this.validationErrors.password=!0),u.includes("The given password has appeared in a data leak. Please choose a different password.")&&(this.passwordErrorMessage=this.__("The chosen password is not good enough. Please choose a better password."),this.validationErrors.password=!0))}))},verifyEmail(o=!1){return N(this,null,function*(){if(!(this.teacher.email.length===0||this.teacher.email.indexOf("@")===-1)){if(this.teacher.email.match(/#EXEMAIL$/i)&&(o=!0,this.teacher.email=this.teacher.email.replace(/#EXEMAIL/i,"")),!o){this.emailStatus="",this.emailClassifyStatus="pending";try{const e=yield O.post("/api/teacher-registration/verify-email/classify-email-type",{email:this.teacher.email});if(this.emailClassifyStatus="success",e.data.type==="disposable"||e.data.type==="generic"||e.data.type==="student"){this.emailStatus=e.data.type;return}}catch(e){window.Playwright||console.error("Error classifying email type:",e)}this.emailClassifyStatus="success"}this.emailStatus="pending";try{const e=yield O.post("/api/teacher-registration/verify-email",{email:this.teacher.email,country:this.teacher.country,region:this.teacher.region,internationalSchool:this.forcedInternationalSchoolId,override:o,pow:Z(`exam-net-teacher-registration-${this.teacher.email}`,14).solution});if(e.data.status==="staging-verification-override"){alert("Staging environment email verification override, you will now be redirected to the validated state"),window.location.href=e.data.url;return}if(e.data.status==="email-sent"){this.emailStatus="success",this.analyticsFunnel("email_left");return}e.data.status==="non-organisation-email"&&(this.emailStatus="non-organisation")}catch(e){this.emailStatus="error",console.log(e)}}})},previousStep(){this.currentStep-=1},analyticsFunnel(o){this.completedAnalyticsSteps.includes(`sign_up_funnel_${o}`)||(this.completedAnalyticsSteps.push(`sign_up_funnel_${o}`),window.dataLayer.push({event:`sign_up_funnel_${o}`}))},nextStep(){if(this.currentStep===1&&this.verifiedEmail.length>0){this.currentStep=3,this.loadSuggestedSchools(),this.analyticsFunnel("email_verified"),this.searchInternationalOrganization();return}if(this.currentStep===2&&this.forcedInternationalSchool>0){this.currentStep+=2;return}if(this.currentStep===3&&this.reconnect){this.reconnectToSchool();return}this.currentStep===1&&this.analyticsFunnel("geoinformation"),this.currentStep===3&&this.analyticsFunnel("organization_info"),this.currentStep+=1},loadSuggestedSchools(){if(this.teacher.country==="Sweden"){this.teacher.internationalSchool=0;return}O.get(`/api/teacher-registration/suggested-schools?token=${this.token}`).then(o=>{this.suggestedSchools=o.data.schools||[],this.suggestedSchools.length===0&&(this.teacher.internationalSchool=0),this.suggestSchoolsStatus="loaded"})},searchInternationalOrganization(){return N(this,null,function*(){if(this.verifiedCountry==="Sweden"||this.country==="Sweden")return;setTimeout(()=>{this.organizationInformation||(this.showCancelOrganizationSearch=!0)},1e4);const o=O.CancelToken;this.organizationSearchSourceCancel=o.source(),yield O.post("/api/teacher-registration/organization-info",{name:this.organisation.name,website:this.organisation.website,country:this.teacher.country,region:this.teacher.region,domain:this.teacher.email.split("@")[1]},{timeout:2e4,cancelToken:this.organizationSearchSourceCancel.token}).then(e=>{if(!e||!e.data||!e.data.searchResult)return;const a=e.data.searchResult;this.organisation.name=a.name||this.organisation.name,this.organisation.website=a.website||this.organisation.website,this.organisation.city=a.city||"",this.organisation.studentCount=a.students||0;const h=this.organizationOptions.map(s=>s.value);!a.type||!h.includes(a.type)||a.type===""?this.organisation.type="":this.organisation.type=a.type}).catch(e=>{e.response&&e.response.status&&console.log(`API request failed with status: ${e.response.status}`)}).finally(()=>{setTimeout(()=>{this.showCancelOrganizationSearch=!1,this.organizationInformation=!0},2e3)})})},cancelOrganizationSearch(){this.organizationSearchSourceCancel.cancel(),this.showCancelOrganizationSearch=!1,this.organizationInformation=!0},loadContries(){window.$.ajax({url:"/api/countries",success:o=>{this.countryOptions=o.filter(e=>xe(e.en_name)).map(({name:e,en_name:a})=>({label:q("sv")&&e==="Sweden"?e:a,value:a})).sort((e,a)=>e.label.localeCompare(a.label)),this.teacher.country===""&&q("sv")&&(this.countrySelect={label:"Sweden",value:"Sweden"})}})},loadRegions(){this.regionOptions=[],this.teacher.country.length!==0&&window.$.ajax({url:"api/schools/internationalRegions",data:{country:this.country},success:o=>{o.length!==0&&(this.regionOptions=o.filter(e=>e.length).sort((e,a)=>e.localeCompare(a)).map(e=>({label:e,value:e})))}})}}},tt={"data-testid":"registration",class:"bg-white max-w-full mx-auto rounded-2xl w-[800px]"},st={class:"mb-4"},ot={class:"font-semibold mt-8 p-6 pb-0 pt-10 text-center text-xl uppercase"},it={key:0,class:"text-center"},nt={class:"bg-white container h-full mx-auto rounded shadow"},at={class:"hidden lg:block"},rt={class:"divide-gray-300 divide-y flex justify-center md:divide-y-0"},lt={class:"flex font-medium items-center leading-5 pl-1 px-4 py-4 text-sm"},dt={key:0,class:"h-6 text-white w-6",viewBox:"0 0 20 20",fill:"currentColor"},ut={class:"font-medium leading-5 ml-3 text-gray-900 text-sm"},ct={key:0,class:"absolute h-full hidden md:block right-0 top-0 w-5"},ht={class:"bg-white container h-full mb-72 mt-6 mx-auto rounded shadow"},mt={key:0,class:"bg-white px-4 py-5 sm:px-6"},gt={class:"font-medium leading-6 mb-4 text-gray-900 text-lg"},pt={class:"py-2"},ft={key:0,class:"flex justify-center"},_t={class:"leading-5 text-gray-500 text-sm"},yt={key:1,class:"flex justify-center"},St={class:"leading-5 text-gray-500 text-sm"},vt={key:2,class:"flex justify-center"},bt={key:3,class:"flex items-center mt-1 relative"},wt={key:4,class:"flex flex-end mt-4"},xt={key:5,class:"mt-4 text-red-600"},kt={key:1},Ot={key:0,class:"bg-white px-4 py-5 sm:px-6"},Et={class:"font-semibold mb-6 pb-0 text-xl uppercase"},Ct={class:"font-medium leading-6 text-gray-900 text-lg"},Tt={class:"flex items-center mt-4"},It={for:"usertype_teacher",class:"ml-3"},Rt={class:"block font-medium leading-5 text-gray-700 text-lg"},Lt={class:"flex items-center mt-4"},Vt={for:"usertype_student",class:"ml-3"},zt={class:"block font-medium leading-5 text-gray-700 text-lg"},Nt={key:0,class:"flex justify-center"},At={class:"align-bottom bg-white inline-block overflow-hidden pb-4 pt-5 px-4 rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:p-6 sm:w-full text-left transform transition-all"},Ut={class:"sm:flex sm:items-start"},Bt={class:"mt-3 sm:ml-4 sm:mt-0 sm:text-left text-center"},Mt={id:"modal-headline",class:"font-medium leading-6 text-gray-900 text-lg"},qt={class:"mt-2"},Pt={class:"text-sm"},jt={class:"mt-2 text-md underline"},Wt={href:"/"},Dt={class:"bg-white px-4 py-5 sm:px-6"},Ft={key:0,class:"font-medium leading-6 mt-8 py-2 text-gray-900 text-lg"},Ht={key:1,class:"font-medium leading-6 mt-8 text-gray-900 text-lg"},Yt={key:1,class:"bg-white px-4 py-2 sm:px-6"},Qt={class:"font-medium leading-6 py-2 text-gray-900 text-lg"},Gt={class:"bg-white px-4 py-2 sm:px-6"},Xt={class:"font-medium leading-6 py-2 text-gray-900 text-lg"},Jt=["placeholder"],Kt={class:"bg-white px-4 py-2 sm:px-6"},Zt={class:"font-medium leading-6 py-2 text-gray-900 text-lg"},$t=["placeholder","disabled"],es={class:"flex items-center mt-4"},ts={class:"flex items-center text-gray-600 text-sm"},ss={key:2},os={class:"bg-white px-4 sm:px-6"},is={class:"flex justify-center"},ns={class:"align-bottom bg-white inline-block max-w-lg overflow-hidden pb-4 pt-5 px-4 rounded-lg shadow-xl sm:align-middle sm:my-8 sm:p-6 text-left transform transition-all w-full"},as={class:"bg-green-100 flex h-12 items-center justify-center mx-auto rounded-full w-12"},rs={key:0,class:"mt-3 sm:mt-5 text-center"},ls={class:"font-medium leading-6 text-gray-900 text-lg"},ds={class:"leading-5 mb-4 mt-6 text-gray-500 text-sm"},us={key:1,class:"mt-3 sm:mt-5 text-center"},cs={class:"font-medium leading-6 text-gray-900 text-lg"},hs={class:"leading-5 mt-6 text-gray-500 text-sm"},ms={key:0},gs={class:"flex"},ps={class:"font-medium leading-6 mt-8 text-gray-900 text-left text-lg"},fs=["placeholder"],_s={value:""},ys=["value"],Ss={key:0,class:"text-left"},vs={class:"mt-4"},bs={class:"mt-1 rounded-md shadow-sm"},ws=["value"],xs={key:0,class:"mt-4"},ks={class:"mt-1 rounded-md shadow-sm"},Os=["value"],Es={class:"mt-4"},Cs={class:"block font-medium leading-5 text-gray-700 text-sm"},Ts={class:"mt-1 rounded-md shadow-sm"},Is=["placeholder"],Rs={class:"mt-4"},Ls={class:"block font-medium leading-5 text-gray-700 text-sm"},Vs={class:"mt-1 rounded-md shadow-sm"},zs=["placeholder"],Ns={class:"mt-4"},As={class:"block font-medium leading-5 text-gray-700 text-sm"},Us={class:"mt-1 rounded-md shadow-sm"},Bs={class:"mt-4"},Ms={class:"block font-medium leading-5 text-gray-700 text-sm"},qs={class:"mt-1 rounded-md shadow-sm"},Ps=["placeholder"],js={key:1},Ws={key:0,class:"organization-search"},Ds={key:1},Fs={class:"font-medium leading-6 mt-8 text-gray-900 text-left text-lg"},Hs=["id","value"],Ys=["for"],Qs={class:"block font-medium leading-5 text-gray-700 text-sm"},Gs={class:"flex items-center mt-4"},Xs={for:"none_of_the_above",class:"ml-3"},Js={class:"block font-medium leading-5 text-gray-700 text-sm"},Ks={key:0,class:"mt-4"},Zs={key:0},$s={key:3},eo={class:"mt-8 sm:max-w-md sm:mx-auto sm:w-full"},to={class:"px-4 py-8"},so={class:"px-4 py-2"},oo={key:4},io={class:"mt-8 sm:max-w-md sm:mx-auto sm:w-full"},no={class:"px-4 py-8"},ao={key:0,class:"mb-4"},ro={class:"block font-medium leading-5 text-gray-700 text-sm"},lo={key:0,class:"TeacherRegistrationInput--error-information"},uo={class:"mt-4"},co={key:0,class:"TeacherRegistrationInput--error-information"},ho={key:1,class:"mt-6"},mo={class:"mt-1 rounded-md shadow-sm"},go={key:0,class:"TeacherRegistrationInput--error-information"},po={key:2,class:"mt-6"},fo={class:"mt-1 rounded-md shadow-sm"},_o={key:0,class:"TeacherRegistrationInput--error-information"},yo={class:"flex items-center justify-between mt-6"},So={class:"flex items-start"},vo={for:"licensecheckbox",class:"user-terms"},bo={key:3,class:"TeacherRegistrationInput--error-information mt-4"},wo={class:"flex mt-6"},xo={key:0,class:"mt-2"},ko={class:"bg-red-50 p-4 rounded-md"},Oo={class:"flex"},Eo={class:"ml-3"},Co={class:"font-medium leading-5 text-red-800 text-sm"},To={class:"leading-5 mt-2 text-red-700 text-sm"},Io={class:"list-disc pl-5"},Ro={class:"flex p-6 rounded-md shadow-sm"},Lo={class:"flex p-6 rounded-md shadow-sm"},Vo={class:"mt-3 sm:mt-5 text-center"},zo={id:"modal-headline",class:"font-medium leading-6 text-gray-900 text-lg"},No={class:"mt-2"},Ao={class:"leading-5 text-gray-500 text-sm"};function Uo(o,e,a,h,s,u){const m=S("Warning"),_=S("EmailVerification"),p=S("RoundedInput"),w=S("PrimaryButton"),L=S("SSOButtons"),V=S("VueMultiselect"),te=S("IconSVG"),M=S("DotsLoader"),se=S("RadioQuestion"),oe=S("CheckboxQuestion"),D=S("SecondaryButton"),F=S("Modal"),ie=S("SSORequiredModal"),ne=ye("sanitized-html");return r(),l("div",tt,[t("div",st,[t("h1",ot,n(o.__("Welcome to Exam.net")),1),s.localeIs("sv")?d("",!0):(r(),l("h2",it,n(o.__("Register an account or sign up for a free trial")),1))]),t("div",nt,[t("nav",at,[t("ul",rt,[(r(!0),l(C,null,A(s.steps,i=>(r(),l("li",{key:i.number,class:"flex px-4 relative"},[t("div",lt,[t("div",{class:R(["duration-150 ease-in-out flex flex-shrink-0 h-10 items-center justify-center rounded-full transition w-10",{"bg-exam":s.currentStep>i.number}])},[s.currentStep>i.number?(r(),l("svg",dt,[...e[41]||(e[41]=[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(r(),l("div",{key:1,class:R(["border-2 flex flex-shrink-0 h-10 items-center justify-center rounded-full w-10",{"border-exam":s.currentStep===i.number}])},[t("p",{class:R(["text-gray",{"text-exam":s.currentStep===i.number}])},n(i.number),3)],2))],2),t("p",ut,n(i.name),1)]),i.number<s.steps.length?(r(),l("div",ct,[...e[42]||(e[42]=[t("svg",{class:"h-full text-gray-300 w-full",viewBox:"0 0 22 80",fill:"none",preserveAspectRatio:"none"},[t("path",{d:"M0 -2L20 40L0 82","vector-effect":"non-scaling-stroke",stroke:"currentcolor","stroke-linejoin":"round"})],-1)])])):d("",!0)]))),128))])])]),t("div",ht,[s.currentStep===2?(r(),l("div",mt,[t("h3",gt,n(o.__("Verify email")),1),t("div",null,[t("div",pt,n(o.__("Type your work email (the one you use at school) and click verify. An email will be sent to you with a link to complete the verification.")),1),s.emailStatus==="non-organisation"||s.emailStatus==="disposable"||s.emailStatus==="generic"?(r(),l("div",ft,[c(m,{email:s.teacher.email},{default:E(()=>[t("p",_t,n(o.__("To sign up for Exam.net, teachers and staff must use the email address provided by their institution. For exceptions, contact sales@exam.net.")),1)]),_:1},8,["email"])])):d("",!0),s.emailStatus==="student"?(r(),l("div",yt,[c(m,{email:s.teacher.email,message:o.__("Student email addresses are not eligible for teacher trials.")},{default:E(()=>[t("p",St,n(o.__("To request an exception, contact sales@exam.net")),1)]),_:1},8,["email","message"])])):d("",!0),s.emailStatus==="success"?(r(),l("div",vt,[c(_,{email:s.teacher.email},null,8,["email"])])):d("",!0),s.emailStatus!=="success"?(r(),l("div",bt,[e[43]||(e[43]=t("div",{class:"inset-y-0 items-center left-0 pl-1 pointer-events-none"},[t("svg",{class:"h-5 text-gray-400 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),t("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})])],-1)),c(p,{modelValue:s.teacher.email,"onUpdate:modelValue":e[0]||(e[0]=i=>s.teacher.email=i),class:"flex-1 ml-2",hasBorder:"",type:"email",placeholder:"firstname.lastname@stockholmcollege.se",onButtonAction:e[1]||(e[1]=i=>i.key==="Enter"&&u.verifyEmail())},null,8,["modelValue"])])):d("",!0),s.emailStatus!=="success"?(r(),l("div",wt,[e[44]||(e[44]=t("div",{class:"flex-1"},null,-1)),c(w,{loading:s.emailClassifyStatus==="pending"||s.emailStatus==="pending",label:o.__("Verify"),onClick:e[2]||(e[2]=i=>u.verifyEmail())},null,8,["loading","label"])])):d("",!0),s.emailStatus==="error"?(r(),l("div",xt,n(o.__("The email could not be verified. Check that you have entered the correct email address and try again.")),1)):d("",!0),c(L,{type:"teacher-registration",onLogin:u.ssoLogin},null,8,["onLogin"])])])):d("",!0),s.currentStep===1?(r(),l("div",kt,[a.reconnect?d("",!0):(r(),l("div",Ot,[t("h3",Et,n(o.__("Register new account")),1),t("h3",Ct,n(o.__("User")),1),t("div",Tt,[g(t("input",{id:"usertype_teacher","onUpdate:modelValue":e[3]||(e[3]=i=>s.userType=i),value:"teacher",type:"radio",class:"duration-150 ease-in-out form-radio h-4 text-indigo-600 transition w-6"},null,512),[[U,s.userType]]),t("label",It,[t("span",Rt,n(o.__("I am a teacher")),1)])]),t("div",Lt,[g(t("input",{id:"usertype_student","onUpdate:modelValue":e[4]||(e[4]=i=>s.userType=i),value:"student",type:"radio",class:"duration-150 ease-in-out form-radio h-4 text-indigo-600 transition w-6"},null,512),[[U,s.userType]]),t("label",Vt,[t("span",zt,n(o.__("I am a student")),1)])]),s.userType==="student"?(r(),l("div",Nt,[t("div",At,[t("div",Ut,[e[45]||(e[45]=t("div",{class:"bg-red-100 flex flex-shrink-0 h-12 items-center justify-center mx-auto rounded-full sm:h-10 sm:mx-0 sm:w-10 w-12"},[t("svg",{class:"h-6 text-red-600 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),t("div",Bt,[t("h3",Mt,n(o.__("There are no student accounts at Exam.net")),1),t("div",qt,[t("p",Pt,n(o.__("Only teachers register accounts. As a student, you are given an Exam key when it is time for the exam and you use the Exam key to access the exam. So you don't register any account.")),1)]),t("div",jt,[t("a",Wt,n(o.__("Back to home")),1)])])])])])):d("",!0)])),t("div",Dt,[a.reconnect?d("",!0):(r(),l("h3",Ft,n(o.__("Country")),1)),a.reconnect?(r(),l("h3",Ht,n(s.teacher.country),1)):d("",!0),a.reconnect?d("",!0):(r(),T(V,{key:2,modelValue:s.countrySelect,"onUpdate:modelValue":e[5]||(e[5]=i=>s.countrySelect=i),options:s.countryOptions,closeOnSelect:"",clearOnSelect:!1,placeholder:o.__("Country"),trackBy:"label",label:"label","data-testid":"country",selectLabel:o.__("Press enter to select"),selectedLabel:o.__("Selected"),deselectLabel:""},{noResult:E(()=>[f(n(o.__("No results found.")),1)]),_:1},8,["modelValue","options","placeholder","selectLabel","selectedLabel"]))]),s.teacher.country.length>0&&s.regionOptions.length>0?(r(),l("div",Yt,[t("h3",Qt,n(o.__("Region")),1),a.reconnect?d("",!0):(r(),T(V,{key:0,modelValue:s.regionSelect,"onUpdate:modelValue":e[6]||(e[6]=i=>s.regionSelect=i),options:s.regionOptions,closeOnSelect:"",clearOnSelect:!1,placeholder:o.__("Region"),trackBy:"label",label:"label","data-testid":"region",selectLabel:o.__("Press enter to select"),selectedLabel:o.__("Selected"),deselectLabel:""},{noResult:E(()=>[f(n(o.__("No results found.")),1)]),_:1},8,["modelValue","options","placeholder","selectLabel","selectedLabel"]))])):d("",!0),u.shouldShowOrganizationFields?(r(),l(C,{key:2},[t("div",Gt,[t("h3",Xt,n(o.__("Organization name")),1),g(t("input",{"onUpdate:modelValue":e[7]||(e[7]=i=>s.organisation.name=i),placeholder:o.__("School name"),class:"appearance-none block border border-gray-300 duration-150 ease-in-out focus:border-blue-300 focus:outline-none focus:shadow-outline-blue placeholder-gray-400 px-3 py-2 rounded-md sm:leading-5 sm:text-sm transition w-full"},null,8,Jt),[[I,s.organisation.name]])]),t("div",Kt,[t("h3",Zt,n(o.__("Organization's web address")),1),g(t("input",{"onUpdate:modelValue":e[8]||(e[8]=i=>s.organisation.website=i),placeholder:o.__("School web address"),disabled:s.hasNoWebsite,class:"appearance-none block border border-gray-300 duration-150 ease-in-out focus:border-blue-300 focus:outline-none focus:shadow-outline-blue placeholder-gray-400 px-3 py-2 rounded-md sm:leading-5 sm:text-sm transition w-full"},null,8,$t),[[I,s.organisation.website]]),t("div",es,[t("label",ts,[g(t("input",{"onUpdate:modelValue":e[9]||(e[9]=i=>s.hasNoWebsite=i),class:"border-gray-300 focus:ring-blue-500 h-4 mr-2 rounded text-blue-600 w-4",type:"checkbox"},null,512),[[X,s.hasNoWebsite]]),f(" "+n(o.__("My organization doesn't have a website")),1)])])])],64)):d("",!0)])):d("",!0),s.currentStep===3?(r(),l("div",ss,[t("div",os,[t("div",is,[t("div",ns,[t("div",null,[t("div",as,[c(te,{svg:s.greenTick,width:"24px",class:"h-6 text-green-600"},null,8,["svg"])]),s.teacher.country==="Sweden"?(r(),l("div",rs,[t("h3",ls,n(o.__("Your email has been verified.")),1),t("p",ds,n(s.teacher.email),1),c(V,{ref:"multiselectSweden",modelValue:s.organisationSwedenSearch,"onUpdate:modelValue":e[10]||(e[10]=i=>s.organisationSwedenSearch=i),optionsLimit:500,options:s.schoolListSweden,closeOnSelect:"",clearOnSelect:!1,placeholder:"Välj skola i listan / Skriv för att söka ...",label:"title",trackBy:"title",value:"id","data-testid":"school_suggestion",selectLabel:o.__("Press enter to select"),selectedLabel:o.__("Selected"),deselectLabel:"",onOpen:e[11]||(e[11]=i=>s.multiSelectSwedenOpen=!0),onClose:e[12]||(e[12]=i=>s.multiSelectSwedenOpen=!1)},{noResult:E(()=>[f(n(o.__("No results found.")),1)]),_:1},8,["modelValue","options","selectLabel","selectedLabel"]),e[46]||(e[46]=t("h4",{class:"mt-6 text-left underline"},"Finns inte din organisation?",-1)),e[47]||(e[47]=t("p",{class:"mt-4 text-left"},[f(" Testa att skriva in skolans namn i sökfältet ovan. "),t("br"),f(" Om du trots det inte hittar din organisation - kontakta oss på info@exam.net så lägger vi till den snabbt. ")],-1)),e[48]||(e[48]=t("p",{class:"text-left"}," (Alla nya organisationer får en utvärderingsperiod då man kan testa full funktionalitet helt gratis och utan förpliktelser.) ",-1)),t("div",{class:R({"mt-72":s.multiSelectSwedenOpen})},null,2)])):d("",!0),s.teacher.country!=="Sweden"?(r(),l("div",us,[t("h3",cs,n(o.__("Your email has been verified.")),1),t("p",hs,n(s.teacher.email),1),s.newOrganisation?(r(),l("div",ms,[t("div",gs,[t("button",{class:"mb-2 mt-4 underline",href:"",onClick:e[13]||(e[13]=()=>{s.newOrganisation=!1,s.newOrganisationPreviewed=!1})},n(o.__("Go back to search")),1)]),t("h3",ps,n(o.__("Set up a new organization")),1),g(t("select",{"onUpdate:modelValue":e[14]||(e[14]=i=>s.organisation.type=i),placeholder:o.__("Organization type"),class:"block border border-gray-300 duration-150 ease-in-out focus:border-blue-300 focus:outline-none focus:shadow-outline-blue mt-2 placeholder-gray-400 px-3 py-2 rounded-md sm:leading-5 sm:text-sm transition w-full"},[t("option",_s,n(o.__("Organization type")),1),(r(!0),l(C,null,A(s.organizationOptions,({label:i,value:z})=>(r(),l("option",{key:z,value:z},n(i),9,ys))),128))],8,fs),[[Se,s.organisation.type]]),s.organisation.type.length>0?(r(),l("div",Ss,[t("div",vs,[t("div",bs,[t("input",{value:s.teacher.country,autocomplete:"no",required:"",disabled:"",class:"appearance-none block border border-gray-300 duration-150 ease-in-out focus:border-blue-300 focus:outline-none focus:shadow-outline-blue placeholder-gray-400 px-3 py-2 rounded-md sm:leading-5 sm:text-sm transition w-full"},null,8,ws)])]),s.teacher.region?(r(),l("div",xs,[t("div",ks,[t("input",{value:s.teacher.region,autocomplete:"no",required:"",disabled:"",class:"appearance-none block border border-gray-300 duration-150 ease-in-out focus:border-blue-300 focus:outline-none focus:shadow-outline-blue placeholder-gray-400 px-3 py-2 rounded-md sm:leading-5 sm:text-sm transition w-full"},null,8,Os)])])):d("",!0),t("div",Es,[t("label",Cs,[f(n(o.__("School name"))+" ",1),t("div",Ts,[g(t("input",{"onUpdate:modelValue":e[15]||(e[15]=i=>s.organisation.name=i),placeholder:o.__("School (or organization) name"),autocomplete:"no",required:"",class:"appearance-none block border border-gray-300 duration-150 ease-in-out focus:border-blue-300 focus:outline-none focus:shadow-outline-blue placeholder-gray-400 px-3 py-2 rounded-md sm:leading-5 sm:text-sm transition w-full"},null,8,Is),[[I,s.organisation.name]])])])]),t("div",Rs,[t("label",Ls,[f(n(o.__("City"))+" ",1),t("div",Vs,[g(t("input",{"onUpdate:modelValue":e[16]||(e[16]=i=>s.organisation.city=i),placeholder:o.__("City"),autocomplete:"no",required:"",class:"appearance-none block border border-gray-300 duration-150 ease-in-out focus:border-blue-300 focus:outline-none focus:shadow-outline-blue placeholder-gray-400 px-3 py-2 rounded-md sm:leading-5 sm:text-sm transition w-full"},null,8,zs),[[I,s.organisation.city]])])])]),t("div",Ns,[t("label",As,[f(n(o.__("School's web address"))+" ",1),t("div",Us,[g(t("input",{"onUpdate:modelValue":e[17]||(e[17]=i=>s.organisation.website=i),placeholder:"www.example-school.com",autocomplete:"no",required:"",class:"appearance-none block border border-gray-300 duration-150 ease-in-out focus:border-blue-300 focus:outline-none focus:shadow-outline-blue placeholder-gray-400 px-3 py-2 rounded-md sm:leading-5 sm:text-sm transition w-full"},null,512),[[I,s.organisation.website]])])])]),t("div",Bs,[t("label",Ms,[f(n(o.__("Approximate total number of students at your school (10 years and older)"))+" ",1),t("div",{class:"cursor-pointer text-exam-orange text-sm underline",onClick:e[18]||(e[18]=i=>s.studentCountModal=!0)},n(o.__("Why is this important?")),1),t("div",qs,[g(t("input",{"onUpdate:modelValue":e[19]||(e[19]=i=>s.organisation.studentCount=i),placeholder:o.__("Approximate total number of students at your school (10 years and older)"),autocomplete:"no",required:"",type:"number",class:"appearance-none block border border-gray-300 duration-150 ease-in-out focus:border-blue-300 focus:outline-none focus:shadow-outline-blue placeholder-gray-400 px-3 py-2 rounded-md sm:leading-5 sm:text-sm transition w-full"},null,8,Ps),[[I,s.organisation.studentCount]])])])])])):d("",!0)])):(r(),l("div",js,[s.organizationInformation?s.organizationInformation?(r(),l(C,{key:1},[s.suggestSchoolsStatus!=="loaded"?(r(),T(M,{key:0})):(r(),l("div",Ds,[t("h3",Fs,n(o.__("Please choose your organization")),1),(r(!0),l(C,null,A(s.suggestedSchools,i=>(r(),l("div",{key:i.id,class:"flex items-center mt-4"},[g(t("input",{id:"international_school_"+i.id,"onUpdate:modelValue":e[20]||(e[20]=z=>s.teacher.internationalSchool=z),value:i.id,type:"radio",class:"duration-150 ease-in-out form-radio h-4 text-indigo-600 transition w-6"},null,8,Hs),[[U,s.teacher.internationalSchool]]),t("label",{for:"international_school_"+i.id,class:"ml-3"},[t("span",Qs,n(i.name)+" ("+n(i.city)+") ",1)],8,Ys)]))),128)),g(t("div",Gs,[g(t("input",{id:"none_of_the_above","onUpdate:modelValue":e[21]||(e[21]=i=>s.teacher.internationalSchool=i),value:0,type:"radio",class:"duration-150 ease-in-out form-radio h-4 text-indigo-600 transition w-6"},null,512),[[U,s.teacher.internationalSchool]]),t("label",Xs,[t("span",Js,n(o.__("None of the above")),1)])],512),[[B,s.suggestedSchools.length>0]]),s.teacher.internationalSchool===0?(r(),l("div",Ks,[s.schoolListStatus==="loading"?(r(),l("div",Zs,[c(M),t("p",null,n(o.__("Loading school data")),1)])):d("",!0),c(V,{ref:"multiselect",modelValue:s.organisationSearch,"onUpdate:modelValue":e[22]||(e[22]=i=>s.organisationSearch=i),options:s.schoolList,closeOnSelect:"",clearOnSelect:!1,placeholder:o.__("Search for your organization"),label:"title",trackBy:"title",value:"id","data-testid":"school_suggestion",selectLabel:o.__("Press enter to select"),selectedLabel:o.__("Selected"),deselectLabel:"",onOpen:e[23]||(e[23]=i=>s.multiSelectOpen=!0),onClose:e[24]||(e[24]=i=>s.multiSelectOpen=!1)},{noResult:E(()=>[f(n(o.__("No results found.")),1)]),_:1},8,["modelValue","options","placeholder","selectLabel","selectedLabel"])])):d("",!0),t("div",{class:R({"mt-72":s.multiSelectOpen})},[s.teacher.internationalSchool===0?(r(),l("button",{key:0,class:"float-left mt-12 text-sm underline",href:"",onClick:e[25]||(e[25]=(...i)=>u.showNewOrganisation&&u.showNewOrganisation(...i))},n(o.__("I can't find my school/organization when searching above")),1)):d("",!0)],2)]))],64)):d("",!0):(r(),l("div",Ws,[t("h3",null,n(o.__("We are trying to find your school...")),1),t("div",null,n(o.__("Please wait while we search our system for your school.")),1),c(M,{dotSize:12})]))]))])):d("",!0)])])])])])):d("",!0),s.currentStep===4?(r(),l("div",$s,[t("div",eo,[t("div",to,[c(se,{selected:s.additional.WHERE_DID_YOU_LEARN_ABOUT_EXAM_NET,"onUpdate:selected":e[26]||(e[26]=i=>s.additional.WHERE_DID_YOU_LEARN_ABOUT_EXAM_NET=i),name:s.AdditionalTeacherQuestions.WHERE_DID_YOU_LEARN_ABOUT_EXAM_NET.key,title:s.AdditionalTeacherQuestions.WHERE_DID_YOU_LEARN_ABOUT_EXAM_NET.title,options:s.AdditionalTeacherQuestions.WHERE_DID_YOU_LEARN_ABOUT_EXAM_NET.options},null,8,["selected","name","title","options"])]),t("div",so,[c(oe,{modelValue:s.additional.SUBJECTS_TEACHING,"onUpdate:modelValue":e[27]||(e[27]=i=>s.additional.SUBJECTS_TEACHING=i),name:s.AdditionalTeacherQuestions.SUBJECTS_TEACHING.key,title:s.AdditionalTeacherQuestions.SUBJECTS_TEACHING.title,options:s.AdditionalTeacherQuestions.SUBJECTS_TEACHING.options},null,8,["modelValue","name","title","options"])])])])):d("",!0),s.currentStep===5?(r(),l("div",oo,[t("div",io,[t("div",no,[a.forcedInternationalSchool?(r(),l("div",ao,[t("label",ro,n(o.__("School")),1),t("div",null,n(a.forcedInternationalSchool.name)+" ("+n(a.forcedInternationalSchool.city)+", "+n(a.forcedInternationalSchool.country)+") ",1)])):d("",!0),t("div",null,[t("label",null,[f(n(o.__("First name"))+" ",1),c(p,{id:"firstName",modelValue:s.teacher.firstName,"onUpdate:modelValue":[e[28]||(e[28]=i=>s.teacher.firstName=i),e[29]||(e[29]=i=>s.validationErrors.firstName=!1)],class:"TeacherRegistrationInput",autocomplete:"no",maxlength:40,errorState:!!s.validationErrors.firstName,hasBorder:""},null,8,["modelValue","errorState"])]),s.validationErrors.firstName?(r(),l("label",lo,n(o.__("Please enter your first name")),1)):d("",!0)]),t("div",uo,[t("label",null,[f(n(o.__("Last name"))+" ",1),c(p,{id:"lastName",modelValue:s.teacher.lastName,"onUpdate:modelValue":[e[30]||(e[30]=i=>s.teacher.lastName=i),e[31]||(e[31]=i=>s.validationErrors.lastName=!1)],class:"TeacherRegistrationInput",autocomplete:"no",maxlength:80,errorState:!!s.validationErrors.lastName,hasBorder:""},null,8,["modelValue","errorState"])]),s.validationErrors.lastName?(r(),l("label",co,n(o.__("Please enter your last name")),1)):d("",!0)]),s.definePassword?(r(),l("div",ho,[t("label",null,[f(n(o.__("Password"))+" ",1),t("div",mo,[c(p,{id:"password",modelValue:s.teacher.password,"onUpdate:modelValue":[e[32]||(e[32]=i=>s.teacher.password=i),e[33]||(e[33]=i=>s.validationErrors.password=!1)],class:"TeacherRegistrationInput",errorState:!!s.validationErrors.password,type:"password",hasBorder:"",placeholder:o.__("At least 8 characters"),required:""},null,8,["modelValue","errorState","placeholder"])])]),s.validationErrors.password?(r(),l("label",go,n(s.passwordErrorMessage),1)):d("",!0)])):d("",!0),s.definePassword?(r(),l("div",po,[t("label",null,[f(n(o.__("Confirm password"))+" ",1),t("div",fo,[c(p,{id:"password_confirmation",modelValue:s.teacher.password_confirmation,"onUpdate:modelValue":[e[34]||(e[34]=i=>s.teacher.password_confirmation=i),e[35]||(e[35]=i=>s.validationErrors.password_confirmation=!1)],class:"TeacherRegistrationInput",errorState:!!s.validationErrors.password_confirmation,type:"password",hasBorder:"",required:""},null,8,["modelValue","errorState"])])]),s.validationErrors.password_confirmation?(r(),l("label",_o,n(o.__("The passwords don't match")),1)):d("",!0)])):d("",!0),t("div",yo,[t("div",So,[g(t("input",{id:"licensecheckbox","onUpdate:modelValue":e[36]||(e[36]=i=>s.teacher.accepted_agreement=i),class:"mr-2 mt-1",type:"checkbox",onChange:e[37]||(e[37]=i=>s.validationErrors.accepted_agreement=!1)},null,544),[[X,s.teacher.accepted_agreement]]),g(t("label",vo,null,512),[[ne,o.__("Accept our <a href='https://exam.net/terms-of-use' target='_blank' rel='noopener'>user terms</a> and <a href='https://exam.net/privacy-center' target='_blank' rel='noopener'>privacy policy</a>")]])])]),s.validationErrors.accepted_agreement?(r(),l("label",bo,n(o.__("You have to agree with the terms in order to use Exam.net")),1)):d("",!0)]),t("div",null,[t("span",wo,[e[49]||(e[49]=t("div",{class:"flex-1"},null,-1)),c(w,{loading:s.performingRegistration,label:o.__("Start using Exam.net"),onClick:u.register},null,8,["loading","label","onClick"])])]),s.registrationStatus==="error"?(r(),l("div",xo,[t("div",ko,[t("div",Oo,[e[50]||(e[50]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 text-red-400 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293-1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),t("div",Eo,[t("h3",Co,n(o.__("Make sure to provide all details")),1),t("div",To,[t("ul",Io,[(r(!0),l(C,null,A(s.errors,i=>(r(),l("li",{key:i},n(i),1))),128))])])])])])])):d("",!0)])])):d("",!0),t("div",Ro,[s.currentStep===2&&s.emailStatus===""||s.currentStep===5&&!a.forcedInternationalSchool||s.currentStep===4?(r(),T(D,{key:0,label:o.__("Previous"),onClick:u.previousStep},null,8,["label","onClick"])):d("",!0),e[51]||(e[51]=t("div",{class:"flex-1"},null,-1)),s.currentStep<5&&!s.showCancelOrganizationSearch?(r(),T(w,{key:1,disabled:!u.stepCompleted,label:o.__("Next"),onClick:u.nextStep},null,8,["disabled","label","onClick"])):d("",!0),t("div",Lo,[s.showCancelOrganizationSearch?(r(),T(D,{key:0,label:o.__("Cancel search and fill out manually"),onClick:u.cancelOrganizationSearch},null,8,["label","onClick"])):d("",!0)])])]),g(c(F,null,{default:E(()=>[t("div",null,[t("div",Vo,[t("h3",zo,n(o.__("Account exists")),1),t("div",No,[t("p",Ao,n(o.__("An account already exists for this email, please sign in instead.")),1)])])])]),_:1},512),[[B,s.emailTaken]]),g(c(F,{wide:"",onOutside:e[39]||(e[39]=i=>s.studentCountModal=!1)},{default:E(()=>[t("div",null,[t("div",null,[t("h3",{class:"absolute cursor-pointer font-thin right-4 text-2xl text-gray-500 text-right top-0",onClick:e[38]||(e[38]=i=>s.studentCountModal=!1)}," x "),e[52]||(e[52]=t("div",{class:"mt-2"},[t("p",{class:"leading-5 text-gray-500 text-left text-sm"}," Price quotes for Exam.net are based on the total number of students at your school/organization. Fairly accurate students counts are required before we can create a price quote for an Exam.net license. "),t("p",{class:"leading-5 mt-4 text-gray-500 text-left text-sm"}," We do not require a credit card during our product trial and you will not be moved into a paid plan unless your school/organization books a license. ")],-1))])])]),_:1},512),[[B,s.studentCountModal]]),g(c(ie,{onClose:e[40]||(e[40]=i=>s.showSSORequiredModal=!1),onRestart:u.handleSignInRestart},null,8,["onRestart"]),[[B,s.showSSORequiredModal]])])}const $o=j(et,[["render",Uo],["__scopeId","data-v-f6c5d7e8"]]);export{$o as default};
//# sourceMappingURL=chunk.DNAwkb3fJngM.js.map
